---
title: "Untitled FRACTRAN Game"
tags: [allonge, noindex]
---

On April 8, 2020, [John Horton Conway] developed symptoms of COVID-19. On April 11, 2020, he succumbed to the disease.[^solveit][^princeton][^guardian][^nyt]

[John Horton Conway]: https://en.wikipedia.org/wiki/John_Horton_Conway
[^solveit]: ["Can you solve it? John Horton Conway, playful maths genius"](https://www.theguardian.com/science/2020/apr/20/can-you-solve-it-john-horton-conway-playful-maths-genius)
[^guardian]: [Obituary in The Guardian](https://www.theguardian.com/science/2020/apr/23/john-horton-conway-obituary) (paywall)
[^princeton]: [Mathematician John Horton Conway, a ‘magical genius’ known for inventing the ‘Game of Life,’ dies at age 82](https://www.princeton.edu/news/2020/04/14/mathematician-john-horton-conway-magical-genius-known-inventing-game-life-dies-age)
[^nyt]: [John Horton Conway, a ‘Magical Genius’ in Math, Dies at 82](https://www.nytimes.com/2020/04/15/technology/john-horton-conway-dead-coronavirus.html) (paywall)

Like so very, very many, I both mourn Conway's passing, and celebrate his life.

---

<center><img src="/assets/images/conway/john-conway-1993.jpg" alt="John Horton Conway in 1993"/></center>

---

## Prelude

*This is another prelude long on nostalgia, and short on programming. If that does not interest you, feel free to [skip straight to FRACTRAN](#fractran).*

Conway touched my own life from almost the very beginning. As I described in [The Eight Queens Problem... and Raganwald's Unexpected Nostalgia](https://raganwald.com/2018/08/03/eight-queens.html):

*My mother had sent me to a day camp for gifted kids once, and it was organized like a university. The "students" self-selected electives, and I picked one called **Whodunnit**. It turned out to be a half-day exercise in puzzles and games, and I was hooked.*

*Where else would I learn about playing tic-tac-toe in a hypercube? Or about liars and truth-tellers? Or, as it happened, about [Martin Gardner][mg]? I suspect the entire material was lifted from his collections of columns, and that suited me down to the ground.*

[mg]: https://en.wikipedia.org/wiki/Martin_Gardner

One of the things we talked about in "Whodunnit" was [Conway's Game of Life][GoL]. I recall hearing about it there, but I also don't recall playing with it much. There was a lot going on, and it's entirely possible that I was too busy falling in love with Raymond Sullyan at age [eleven] to have curiosity left over for John Conway.[^HL][^TSL][^CoL]

[GoL]: https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life
[^CoL]: [Cafe au Life](https://github.com/raganwald/cafeaulife), an impementation of HashLife in CoffeeScript
[^HL]: [HashLife in the Browser](https://github.com/raganwald/hashlife)
[^TSL]: [Time, Space, and Life As We Know It](https://raganwald.com/2017/01/12/time-space-life-as-we-know-it.html)
[eleven]: https://www.youtube.com/watch?v=MNuFcIRlwdc

---

[![Hashlife](/assets/images/conway/hashlife.png)](http://raganwald.com/hashlife*/)
<center><a href="http://raganwald.com/hashlife/">An infinitely scrolling implementation of Conway's Game of Life</a></center>

---

I went on to rediscover Conway's Game of Life several times in my life. We talked of in university. And years later, I read William Poundstone's [The Recursive Universe: Cosmic Complexity and the Limits of Scientific Knowledge][ru], and it literally blew my mind:

[ru]: https://www.amazon.com/gp/product/0809252023/ref=as_li_ss_tl?ie=UTF8&linkCode=ll1&tag=raganwald001-20&linkId=2676ba561595f3a279e159b2b0be475b&language=en_US

Along the way, I learned a little about Game Theory. I loved games of all kinds, and I think I spotted [Games of Strategy: Theory and Applications][GoS] in a library and picked it up, thinking it would help my Backgammon.

[GoS]: https://www.rand.org/pubs/commercial_books/CB149-1.html

That led me to Conway's [On Numbers and Games][onag], and via parallel paths, to [Surreal Numbers]. Like the Game of Life, Surreal Numbers keep popping up unexpectedly, reigniting my interest in how the way we represent data, affords or hinders working with that data.

The subject of numbers and representation leads us to [FRACTRAN].[^elegance][^horton]

[onag]: https://en.wikipedia.org/wiki/On_Numbers_and_Games
[Surreal Numbers]: https://en.wikipedia.org/wiki/Surreal_number
[^elegance]: [Elegance and the Surreals](https://raganwald.com/2009/03/07/elegance-and-the-surreals.html)
[^horton]: [A Surreal Encounter with a Winged Elephant](https://raganwald.com/enchanted-forest/horton.html)
[FRACTRAN]: https://en.wikipedia.org/wiki/FRACTRAN

---

<a name="fractran"/>[![Only FRACTRAN has these star qualities](/assets/images/conway/fractran-star-qualities.png)][FRACTRAN]

---

## FRACTRAN

In 1987, Conway contributed _FRACTRAN: A SIMPLE UNIVERSAL PROGRAMMING LANGUAGE FOR ARITHMETIC_ to a special workshop on problems in communication and computation conducted in the summers of 1984 and 1985 in Morristown, New Jersey, and the summer of 1986 in Palo Alto. California. FRACTRAN itself was not an important open problem in the field, but as the editors of the published papers noted:

_Perhaps the most entertaining of all the contributions is Conway's fascinating article on FRACTRAN, a strange collection of numbers, which when operated on in a simple way. yield all possible computations. We begin with his article._--Thomas M. Cover & B. Gotinath, "Open Problems in Communication & Computation"[^scihub]

[^scihub]: "Open Problems in Communication & Computation" is available on SciHub, or by paying rent to Springer-Verlag. I chose to use SciHub and to simultaneously purchase a used copy of the book onnline. I don't know how long we'll still be able to buy used books, but I'm taking full advantage of the privilege while we're still permitted to do so.

### the fractran programming language

As Wikipedia notes, a FRACTRAN program is an ordered list of positive fractions together with an initial positive integer input *n*. The program is run by updating the integer *n* as follows:

1. for the first fraction *f* in the list for which *nf* is an integer, replace *n* by *nf*
2. repeat this rule until no fraction in the list produces an integer when multiplied by *n*, then halt.

For example, this is a FRACTRAN program for computing any Fibonacci number. Feel free to use it to ace the programming interview:

```
17/65, 133/34, 17/19, 23/17, 2233/69, 23/29, 31/23, 74/341,
31/37, 41/31, 129/287, 41/43, 13/41, 1/13, 1/3
```

All FRACTRAN programs also start with an initial value for *n*. That value is sometimes a constant, and sometimes provided by the user. In this case, to compute `fib(x)` for some value of *x*, we compute `n = 78 * 5^(x - 1)`.

Let's use this program to compute `fib(5)`. We start with `n = 78 * 5^4`, or 48,750. We'll work out a few steps by hand.

1. The first fraction in our program is 17/65. The quotient of 48,750 divided by 65 is **750**, with no remainder Since that divided evenly, we multiply 750 by 17 and get *12,750*. This becomes our new *n*, and we begin again.
2. The first fraction in our program is 17/65. 12,750 divided by 65 leaves a remainder, so we move on to the next fraction in our program, 133/34.
3. The second fraction in our program is 133/34. The quotient of 12,750 divided by 34 is 375, with no remainder. Since that divided evenly, we multiply 375 by 133 and get *49,875*. This becomes our new *n*, and we begin again.
4. The first fraction in our program is 17/65. 49,875 divided by 65 leaves a remainder, so we move on to the next fraction in our program, 133/34.
5. The second fraction in our program is 133/34. 49,875 divided by 34 leaves a remainder, so we move on to the next fraction in our program, 17/19.
5. The third fraction in our program is 17/19. The quotient of 49,875 divided by 19 is **2,625**, with no remainder Since that divided evenly, we multiply 2,625 by 17 and get *44,625*. This becomes our new *n*, and we begin again.

---

## Code

<script src="https://gist.github.com/raganwald/e8896be8f032ba80019fd6a20fc6bb7d.js"></script>

---

## Notes

